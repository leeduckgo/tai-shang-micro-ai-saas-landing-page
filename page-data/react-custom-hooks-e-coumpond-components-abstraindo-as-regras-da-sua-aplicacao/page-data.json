{
    "componentChunkName": "component---src-templates-blog-post-js",
    "path": "/react-custom-hooks-e-coumpond-components-abstraindo-as-regras-da-sua-aplicacao/",
    "result": {"data":{"markdownRemark":{"html":"<p>Apesar dos nomes bonitos que estão no título, o que quero falar (na real, escrever) hoje é sobre algo comum em aplicações do nosso dia a dia: regras iguais que se aplicam para diferentes cenários sem precisar duplicar código por toda parte.</p>\n<p>Falando de frontend e mais especificamente React, uma solução para isso (que é o que vou trazer hoje) é usar uma combinação de custom hooks com compound components. Caso você não esteja por dentro do que são esses dois temas, vou introduzí-los rapidamente:</p>\n<h2>Custom Hooks</h2>\n<p>Acredito que você já esteja familiarizado com o conceito de Hooks no React, tais como: <code class=\"language-text\">useState</code>, <code class=\"language-text\">useEffect</code>, <code class=\"language-text\">useCallback</code> e outros. Um Custom Hook, nada mais é que a extração de uma lógica para poder compartilhar em diferentes lugares da aplicação. Antes dos Hooks, você tinha apenas duas formas de compartilhar lógica entre componentes: <em>props</em> e High Order Components (HOC). Agora temos mais uma forma de fazer isso e que pode ser mais elegante em alguns casos.</p>\n<p>Se quiser se aprofundar nesse tema, eu sugiro fortemente a leitura da <a href=\"https://pt-br.reactjs.org/docs/hooks-custom.html\">documentação do React</a>. Ela é bastante completa, com perguntas comuns respondidas, exemplos reais e boas práticas.</p>\n<blockquote>\n<p>Mais a frente vamos criar o nosso próprio custom hook, segura aí :)</p>\n</blockquote>\n<h2>Compound Components</h2>\n<p>De forma resumida, um compound component é um componente que compartilha uma mesma regra/estados/estilos com seus filhos, mas te dá a flexibilidade de <em>compor</em> ele da forma que chamar melhor. É bastante comum vê-los em Design Systems.</p>\n<p>Por exemplo, suponha que você tenha um componente List que tem alguns estilos pré definidos através de uma classe CSS. Num cenário \"comum\", dentro desse componente estaria declarado diretamente seus filhos, algo como:</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">List</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> items <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>list-wrapper<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ul</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token punctuation\">{</span>items<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">item</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span> <span class=\"token attr-name\">key</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>item<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>item<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ul</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>E seu uso seria:</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">List</span></span> <span class=\"token attr-name\">items</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">[</span><span class=\"token string\">'Item 1'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Item 2'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Item 3'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span></code></pre></div>\n<p>Mas, e se a gente precisar de uma lista ordenada agora? Teriamos que receber um prop, criar uma validação e então decidir qual renderizar. Vamos pensar um pouco, isso é de responsabilidade do componente List ou de quem está usando esse componente? Me parece ser a segunda opção.</p>\n<p>Com um compound component, nós poderiamos resolver dessa forma:</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">List</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> children <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>list-wrapper<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>children<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<blockquote>\n<p>Ué, Kaio?! Você apagou quase tudo!</p>\n</blockquote>\n<p>Pois é! Agora, nosso componente List só se importa em aplicar as regras de estilo e o que vai como filhos dele, ele apenas renderiza.</p>\n<p>E para usá-lo há diversas formas:</p>\n<p>Com uma lista não ordenada:</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">List</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ul</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Item 1</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Item 1</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Item 1</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ul</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">List</span></span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>Com uma lista ordenada:</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">List</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ol</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Item 1</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Item 1</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Item 1</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ol</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">List</span></span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>Pode fazer um loop dentro da lista:</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">List</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ol</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token punctuation\">{</span>items<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">item</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span> <span class=\"token attr-name\">key</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>item<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>item<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ol</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">List</span></span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>E várias outras coisas.</p>\n<p>Eu sei que esse é um exemplo simples, mas acho que é suficiente para <em>introduzir</em> o assunto e pensar em outras N possibilidades que temos. Vamos pular para um cenário real e escrever mais códigos.</p>\n<h2>Aplicando num cenário real</h2>\n<p>O nosso caso é: o plano da conta do nosso usuário tem acesso a uma lista de funcionalidades. Por conta disso, só podemos exibir a funcionalidade X para ele se ela existir nessa lista. Caso não tenha, o botão de acesso deve estar desabilitado, deve haver uma mensagem informando que não tem acesso e deve existir um <a href=\"https://resultadosdigitais.com.br/blog/tudo-sobre-call-to-action/\">CTA</a> para que ele adquira a funcionalidade. É a mesma ideia de <a href=\"https://martinfowler.com/articles/feature-toggles.html\">feature flag/toggles</a>.</p>\n<h3>Solução <em>feia</em> e repetitiva</h3>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">MyComponent</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> availableFeatures <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'feature_one'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'feature_two'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'feature_three'</span><span class=\"token punctuation\">]</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Grid</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Text</span></span> <span class=\"token attr-name\">token</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>Text<span class=\"token punctuation\">.</span>tokens<span class=\"token punctuation\">.</span><span class=\"token constant\">TEXT_XL_BOLD</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Funcionalidades:</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Text</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Wrapper</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Card</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n          </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Text</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Funcionalidade 1</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Text</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n          </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">LinkButton</span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://example.org<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Acessar</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">LinkButton</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Card</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Card</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n          </span><span class=\"token punctuation\">{</span>availableFeatures<span class=\"token punctuation\">.</span><span class=\"token function\">includes</span><span class=\"token punctuation\">(</span><span class=\"token string\">'feature_two'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> <span class=\"token punctuation\">(</span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n              </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Text</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Funcionalidade 2</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Text</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n              </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">LinkButton</span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://example.org<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Acessar</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">LinkButton</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n            </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span></span><span class=\"token punctuation\">></span></span>\n          <span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n              </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Text</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Você ainda não tem acesso a Funcionalidade 2</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Text</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n              </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">ButtonGroup</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n                </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">LinkButton</span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://example.org<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">disabled</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n                  Acessar\n                </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">LinkButton</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n\n                </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">LinkButton</span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://www.google.com/<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Adquirir</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">LinkButton</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n              </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">ButtonGroup</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n            </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span></span><span class=\"token punctuation\">></span></span>\n          <span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Card</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Wrapper</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Grid</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Vamos por partes:</p>\n<p><code class=\"language-text\">availableFeatures</code>: coloquei estaticamente essa lista, imagine que ela pode vir de qualquer lugar como uma API externa, um contexto, etc...</p>\n<p><code class=\"language-text\">Grid</code> e <code class=\"language-text\">Wrapper</code>: Apenas <a href=\"https://styled-components.com/\">styled components</a> que criei para deixar o resultado final mais organizado.</p>\n<p><code class=\"language-text\">Text</code>, <code class=\"language-text\">Card</code>, <code class=\"language-text\">ButtonGroup</code> e <code class=\"language-text\">LinkButton</code>: componentes que fazem parte do Tangram (design system da RD Station)</p>\n<p>O que temos agora então é uma condição usando <a href=\"https://developer.mozilla.org/pt-BR/docs/Web/JavaScript/Reference/Operators/Conditional_Operator\">operador ternário</a> que valida se a <code class=\"language-text\">feature_two</code> está presente na lista de features disponíveis para esse usuário.</p>\n<p>Como a condição é verdadeira, o resultado final é esse:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 764px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 64%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAABrUlEQVQ4y51S207CQBDlG0zUd4nR+Kwf6qM++QHE8CCgkXCJUkAFRMXLU4vQAgVRLpayu+0xO7YVjahxkpOd7Jw9MzszIdd1IeE4zp8gudL8d18thH/Yd0KfBPOFIkrlCq6ub8i/vqnholRGKp1FTslDUQo4Oc0Rp9d7+lThLEhQOrpukFjt9g7V6hXu7x9QrlyieHYeJCmVyqhcVtHvP8+tUt6Ffip/ngkxv7ckKISgS+HBkXczZMY5OBdBTD714VcmeYGgtNFggI5uoGu00FBVNLU6TNMMkvmcdqMB0zCga3U0NQ1dswvGeNDHkMwI18WQcWjWBPXJFHXLhjq2MLRtisnK5DlgDCpxbII6fsXInlIsqJB7zp7RxVoii81YGpvxDDaSCuK9F4pNuKBzt9nBaiyNrUSGOOtJBan+kGJMfBHcaXawGD1GOBLHSiSO5VgGUbNPMcsT3H5sY2H/COFIgnhLBxkcekkDQfq742LMBQzG0eIOWtKfMlhCvH9ZvH95xDl04gjiSc7E58wOxfF6RHPzeuqNz5v075xgbT6WErQSs3C/WdyfOHLKb26c3DtI1Km3AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image lazyload\"\n        alt=\"Um titulo &quot;Funcionalidades&quot; e abaixo dois cards um respectivos titulos &quot;Funcionalidade 1&quot; e &quot;Funcionalidade 2&quot;, ambos com botões para acessar\"\n        title=\"Resultado final do código acima na condição verdadeira.\"\n        data-src=\"/static/787577f06d35fb0589894fb3e8a61bc3/f3c12/with-access.png\"\n        data-srcset=\"/static/787577f06d35fb0589894fb3e8a61bc3/3684f/with-access.png 225w,\n/static/787577f06d35fb0589894fb3e8a61bc3/fc2a6/with-access.png 450w,\n/static/787577f06d35fb0589894fb3e8a61bc3/f3c12/with-access.png 764w\"\n        sizes=\"(max-width: 764px) 100vw, 764px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>E para o cenário onde a feature não está disponível na lista, nós temos o seguinte resultado:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 900px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 41.333333333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABPUlEQVQoz42RzU7CUBSEeQ32+iY+gK/mRhfu3RDd+fMAbjRRlKIoKAFaWtLetlwabHtvbz/TCoQYE5lkVmfOnMmcRhzH2I6D63r4vs94YjMajbFth+nUJctzKpRluRMbUkp6vTe6L6/0+wOeOxaW1eWx/UTH6jKfy50M12iwA4wx9VJhSrQxG24bGrNKWHnnyyVpFLEUAYkQpGlaC7IsIwxDhBCIMCSJIvRCohYLcikJggDP8wiEQCn9Y1glaMuEo48xx0Ob1tSvk1RDpTXRfIGIJVmy5D6Ste7kc8KZM6P4lW5jeGrPaF7csHd+zeFdB1V1UpZ8pRmDoY31PiR2fY6GDs3WFfutSw5uH9CrSsqtjhvVYqI1bqbwcoXIFaa+ampqXdQ0RbHRzXJFsNJtOlwbbn9ojb++959unfAb5R1jF2iit1sAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image lazyload\"\n        alt=\"Um titulo &quot;Funcionalidades&quot; e abaixo dois cards um respectivos titulos &quot;Funcionalidade 1&quot; e &quot;Você ainda não tem acesso a Funcionalidade 2&quot;, ambos com botões para acessar, porém o segundo está desabilitado.\"\n        title=\"Resultado final do código acima na condição falsa.\"\n        data-src=\"/static/1596f2aa3492e84369b8ce7ad1bd9d29/1cfc2/without-access.png\"\n        data-srcset=\"/static/1596f2aa3492e84369b8ce7ad1bd9d29/3684f/without-access.png 225w,\n/static/1596f2aa3492e84369b8ce7ad1bd9d29/fc2a6/without-access.png 450w,\n/static/1596f2aa3492e84369b8ce7ad1bd9d29/1cfc2/without-access.png 900w,\n/static/1596f2aa3492e84369b8ce7ad1bd9d29/96e86/without-access.png 1089w\"\n        sizes=\"(max-width: 900px) 100vw, 900px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>Bom, funcionou como deveria, certo?! Agora, imagine que essa validação acontece em diferentes locais da aplicação, por exemplo, na barra de navegação, dentro de um modal, numa outra listagem qualquer, você teria que repetir essa mesma lógica por todo o produto e isso seria um caos indo contra ao conceito <a href=\"https://pt.wikipedia.org/wiki/Don%27t_repeat_yourself\">DRY (Don't Repeat Yourself)</a>.</p>\n<h3>Solução <em>elegante</em> e escalável</h3>\n<p>Agora que entra em ação os temas que falamos lá no começo: Custom Hooks e Compound Components.</p>\n<p>Vamos começar pelo hook:</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">useAccountFeatures</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> availableFeatures <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'feature_one'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'feature_two'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'feature_three'</span><span class=\"token punctuation\">]</span>\n\n  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">hasAccess</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">feature</span> <span class=\"token operator\">=></span> availableFeatures<span class=\"token punctuation\">.</span><span class=\"token function\">includes</span><span class=\"token punctuation\">(</span>feature<span class=\"token punctuation\">)</span>\n\n  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">HaveAccess</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> children<span class=\"token punctuation\">,</span> feature <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token function\">hasAccess</span><span class=\"token punctuation\">(</span>feature<span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> children <span class=\"token operator\">:</span> <span class=\"token keyword\">null</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">DontHaveAccess</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> children<span class=\"token punctuation\">,</span> feature <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token operator\">!</span><span class=\"token function\">hasAccess</span><span class=\"token punctuation\">(</span>feature<span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> children <span class=\"token operator\">:</span> <span class=\"token keyword\">null</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span> HaveAccess<span class=\"token punctuation\">,</span> DontHaveAccess <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<blockquote>\n<p>Novamente, lembre que o <code class=\"language-text\">availableFeatures</code> poderia vir de qualquer outro lugar, apenas no exemplo ele é estático.</p>\n</blockquote>\n<p>Basicamente, nosso custom hook retorna dois compound components que tem a regra de validação se tem acesso ou não a funcionalidade e, por sua vez, esses componentes no cenário verdadeiro da validação retornam os seus filhos (<code class=\"language-text\">children</code>) e no cenário falso retorna <code class=\"language-text\">null</code>. Vamos ver como usá-lo refatorando o nosso <code class=\"language-text\">MyComponent</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">MyComponent</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> HaveAccess<span class=\"token punctuation\">,</span> DontHaveAccess <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">useAccountFeatures</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Grid</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Text</span></span> <span class=\"token attr-name\">token</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>Text<span class=\"token punctuation\">.</span>tokens<span class=\"token punctuation\">.</span><span class=\"token constant\">TEXT_XL_BOLD</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Funcionalidades: </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Text</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Wrapper</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Card</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n          </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Text</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Funcionalidade 1</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Text</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n          </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">LinkButton</span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://example.org<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Acessar</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">LinkButton</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Card</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">HaveAccess</span></span> <span class=\"token attr-name\">feature</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>feature_two<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n          </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Card</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n            </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Text</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Funcionalidade 2</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Text</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n            </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">LinkButton</span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://example.org<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Acessar</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">LinkButton</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n          </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Card</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">HaveAccess</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">DontHaveAccess</span></span> <span class=\"token attr-name\">feature</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>feature_two<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n          </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Card</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n            </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Text</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Você ainda não tem acesso a Funcionalidade 2</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Text</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n            </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">ButtonGroup</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n              </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">LinkButton</span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://example.org<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">disabled</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n                Acessar\n              </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">LinkButton</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n\n              </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">LinkButton</span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://www.google.com/<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Adquirir</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">LinkButton</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n            </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">ButtonGroup</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n          </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Card</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">DontHaveAccess</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Wrapper</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Grid</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Repare que agora nosso componente não sabe quais são as funcionalidades disponíveis, não é mais o papel dele ter que buscar aquela lista <code class=\"language-text\">availableFeatures</code>. Agora ele tem a chamada para o nosso custom hook <code class=\"language-text\">useAccountFeatures</code> e, desestruturando-o, ele tem acesso aos dois compound components retornados por ele.</p>\n<p>Ao invés de toda a lógica de validação ficar dentro do <code class=\"language-text\">MyComponent</code>, ele agora só precisa informar via props qual funcionalidade está sendo validada e isso é abstraído completamente pelos componentes <code class=\"language-text\">HaveAccess</code> e <code class=\"language-text\">DontHaveAccess</code> ✨️</p>\n<p>E o resultado final na tela é o mesmo do anterior:</p>\n<h3>Com acesso:</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 764px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 64%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAABrUlEQVQ4y51S207CQBDlG0zUd4nR+Kwf6qM++QHE8CCgkXCJUkAFRMXLU4vQAgVRLpayu+0xO7YVjahxkpOd7Jw9MzszIdd1IeE4zp8gudL8d18thH/Yd0KfBPOFIkrlCq6ub8i/vqnholRGKp1FTslDUQo4Oc0Rp9d7+lThLEhQOrpukFjt9g7V6hXu7x9QrlyieHYeJCmVyqhcVtHvP8+tUt6Ffip/ngkxv7ckKISgS+HBkXczZMY5OBdBTD714VcmeYGgtNFggI5uoGu00FBVNLU6TNMMkvmcdqMB0zCga3U0NQ1dswvGeNDHkMwI18WQcWjWBPXJFHXLhjq2MLRtisnK5DlgDCpxbII6fsXInlIsqJB7zp7RxVoii81YGpvxDDaSCuK9F4pNuKBzt9nBaiyNrUSGOOtJBan+kGJMfBHcaXawGD1GOBLHSiSO5VgGUbNPMcsT3H5sY2H/COFIgnhLBxkcekkDQfq742LMBQzG0eIOWtKfMlhCvH9ZvH95xDl04gjiSc7E58wOxfF6RHPzeuqNz5v075xgbT6WErQSs3C/WdyfOHLKb26c3DtI1Km3AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image lazyload\"\n        alt=\"Um titulo &quot;Funcionalidades&quot; e abaixo dois cards um respectivos titulos &quot;Funcionalidade 1&quot; e &quot;Funcionalidade 2&quot;, ambos com botões para acessar\"\n        title=\"Resultado final do código acima na condição verdadeira.\"\n        data-src=\"/static/787577f06d35fb0589894fb3e8a61bc3/f3c12/with-access.png\"\n        data-srcset=\"/static/787577f06d35fb0589894fb3e8a61bc3/3684f/with-access.png 225w,\n/static/787577f06d35fb0589894fb3e8a61bc3/fc2a6/with-access.png 450w,\n/static/787577f06d35fb0589894fb3e8a61bc3/f3c12/with-access.png 764w\"\n        sizes=\"(max-width: 764px) 100vw, 764px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<h3>Sem acesso:</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 900px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 41.333333333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABPUlEQVQoz42RzU7CUBSEeQ32+iY+gK/mRhfu3RDd+fMAbjRRlKIoKAFaWtLetlwabHtvbz/TCoQYE5lkVmfOnMmcRhzH2I6D63r4vs94YjMajbFth+nUJctzKpRluRMbUkp6vTe6L6/0+wOeOxaW1eWx/UTH6jKfy50M12iwA4wx9VJhSrQxG24bGrNKWHnnyyVpFLEUAYkQpGlaC7IsIwxDhBCIMCSJIvRCohYLcikJggDP8wiEQCn9Y1glaMuEo48xx0Ob1tSvk1RDpTXRfIGIJVmy5D6Ste7kc8KZM6P4lW5jeGrPaF7csHd+zeFdB1V1UpZ8pRmDoY31PiR2fY6GDs3WFfutSw5uH9CrSsqtjhvVYqI1bqbwcoXIFaa+ampqXdQ0RbHRzXJFsNJtOlwbbn9ojb++959unfAb5R1jF2iit1sAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image lazyload\"\n        alt=\"Um titulo &quot;Funcionalidades&quot; e abaixo dois cards um respectivos titulos &quot;Funcionalidade 1&quot; e &quot;Você ainda não tem acesso a Funcionalidade 2&quot;, ambos com botões para acessar, porém o segundo está desabilitado.\"\n        title=\"Resultado final do código acima na condição falsa.\"\n        data-src=\"/static/1596f2aa3492e84369b8ce7ad1bd9d29/1cfc2/without-access.png\"\n        data-srcset=\"/static/1596f2aa3492e84369b8ce7ad1bd9d29/3684f/without-access.png 225w,\n/static/1596f2aa3492e84369b8ce7ad1bd9d29/fc2a6/without-access.png 450w,\n/static/1596f2aa3492e84369b8ce7ad1bd9d29/1cfc2/without-access.png 900w,\n/static/1596f2aa3492e84369b8ce7ad1bd9d29/96e86/without-access.png 1089w\"\n        sizes=\"(max-width: 900px) 100vw, 900px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>Agora qualquer outro lugar da aplicação que precisar validar o acesso a uma funcionalidade X basta seguir o mesmo exemplo e se em algum momento outra validação for necessária é só alterar diretamente o hook <code class=\"language-text\">useAccountFeatures</code> e tudo continuará funcionando :)</p>\n<p>Aí alguém pode pensar: <em>\"Mas dessa forma eu tenho que escrever muito mais código 😠️\"</em></p>\n<p>E, sim, é verdade, mas comparado ao ganho que você tem ao desacoplar as regras e poder testá-la unitariamente e aplicá-la em diferentes cenários, escrever mais códigos acaba valendo a pena.</p>\n<p>Com certeza, existem várias formas de resolver esse mesmo problema, inclusive não usando custom hooks e nem compound components. Minha ideia era te apresentar esses conceitos e como podemos resolver um problema real com eles.</p>\n<p>Espero que você tenha curtido e se tiver algum comentário para fazer, fique a vontade para lançar a braba!</p>\n<p>Até a próxima! 👋🏽</p>","fields":{"slug":"/react-custom-hooks-e-coumpond-components-abstraindo-as-regras-da-sua-aplicacao/"},"frontmatter":{"date":"15 de julho de 2021","description":"Como podemos isolar regras e compartilhá-las entre diferentes componentes sem precisar duplicar código.","title":"React Custom Hooks e Compound Components: abstraindo as regras da sua aplicação","image":"/assets/img/react-hooks-compound-components-og.png"},"timeToRead":7}},"pageContext":{"slug":"/react-custom-hooks-e-coumpond-components-abstraindo-as-regras-da-sua-aplicacao/","previousPost":{"frontmatter":{"title":"Sempre temos algo a compartilhar"},"fields":{"slug":"/sempre-temos-algo-a-compartilhar/"}},"nextPost":null}},
    "staticQueryHashes": ["1244830069","764694655"]}